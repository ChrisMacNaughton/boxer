#!/bin/bash

log() {
    require_root
    echo "$(date): $1"
}

apt_update() {
    require_root
    log "Updating system"
    sudo apt-get update -qq
}

apt_upgrade() {
    require_root
    log "Upgrading packages"
    sudo apt-get upgrade -yqq
}

ensure_packages() {
    require_root
    if [ ! -z "$1" ]
    then
        log "Installing packages: ($1)"
        sudo apt-get install -yq $1
    fi
}

require_root() {
    # if [[ $EUID -ne 0 ]]; then
    # log "This script must be run as root" 
    # exit 1
    # fi
    sudo -v
}

deb_install() {
    require_root
    sudo dpkg -i $1
}
